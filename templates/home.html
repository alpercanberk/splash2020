{% extends 'base.html' %}
{% block content %}

<p> Home page </p>

<div>
  <h3>User info</h3>
  <p>name: {{user_info["name"]}}</p>
  <p>email: {{user_info["email"]}}</p>
  <p>number of elims: {{user_info["number_of_elims"]}}</p>
  <p>immunity_duration: {{user_info["immunity_duration"]}}</p>
</div>

<div>
  <h3>Target info</h3>
  <p>name: {{target_info["name"]}}</p>
  <p>email: {{target_info["email"]}}</p>
  <p>Immunity duration: {{target_info["immunity_duration"]}} </p>
</div>


<div>
  <h3>ID</h3>
  <h4>id: {{user_info["id"]}}</h4>
</div>


<div>
  <div>
   <h2>Submit_code</h2>
   <form onsubmit="return submitEliminationCode();">
   <div class="form-group">
   <input type=textarea name=code id=elimination-code>
   <input type=submit value="Submit code" class="btn btn-primary">
   </div>
   </form>
  </div>
</div>

<div>
  <div>
   <h2>Submit special code</h2>
   <form onsubmit="return submitAbilityCode();">
   <div class="form-group">
   <input type=textarea name=code id=ability-code>
   <input type=submit value="Submit code" class="btn btn-primary">
   </div>
   </form>
  </div>
</div>

<div>Game Status</div>
<div>Is immunity on? {{is_immunity_on}} </div>
<di> Is paused? {{is_paused}} </div>

<script>

  function submitEliminationCode(){
    code = document.getElementById("elimination-code").value
    axios({
      method:'post',
      url:'/eliminate_user',
      data:{
        code:code,
      }
    }).catch(e=>console.log(e)).then(data => {alert(data["data"]); window.location.reload();})
    return false;
  }

  function submitAbilityCode(){
    code = document.getElementById("ability-code").value
    window.location.href = "/ability/" + code
    return false;
  }

</script>


{% endblock %}
